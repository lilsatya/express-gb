"use strict";require("dotenv").config();var app=require("./app"),debug=require("debug")("express-gb:server"),http=require("http"),config=require("./config/env/default"),normalizePort=function(r){var e=parseInt(r,10);return isNaN(e)?r:0<=e&&e},onError=function(r){if("listen"!==r.syscall)throw r;var e="string"==typeof port?"Pipe "+port:"Port "+port;switch(r.code){case"EACCES":console.error(e+" requires elevated privileges"),process.exit(1);break;case"EADDRINUSE":console.error(e+" is already in use"),process.exit(1);break;default:throw r}},onListening=function(){var r=server.address(),e="string"==typeof r?"pipe "+r:"port "+r.port;debug("Listening on "+e)},port=normalizePort(config.port);app.set("port",port);var server=http.createServer(app);server.listen(port),server.on("error",onError),server.on("listening",onListening);
"use strict";var createError=require("http-errors"),express=require("express"),path=require("path"),cookieParser=require("cookie-parser"),logger=require("morgan"),sentry=require("@sentry/node"),config=require("./config/env/default.js"),indexRouter=require("./src/routes/index"),app=express();config.sentryDns&&(sentry.init({dsn:config.sentryDns}),app.use(sentry.Handlers.requestHandler()),app.use(sentry.Handlers.errorHandler())),app.set("views",path.join(__dirname,"views")),app.set("view engine","jade"),app.use(logger("dev")),app.use(express.json()),app.use(express.urlencoded({extended:!1})),app.use(cookieParser()),app.use(express.static(path.join(__dirname,"public"))),app.use("/",indexRouter),app.use(function(e,r,s){s(createError(404))}),app.use(function(e,r,s){s.locals.message=e.message,s.locals.error="development"===r.app.get("env")?e:{},s.status(e.status||500),s.end(s.sentry+"\n"),s.render("error")}),module.exports=app;
"use strict";module.exports={scripts:["server.js","app.js","config/**/*.js","db/*.js","src/**/*.js"],public:["public/**/*.js","public/**/*.css"],views:["views/*.jade"]};
"use strict";module.exports={nodeEnv:process.env.NODE_ENV||"development",port:process.env.PORT||3e3,sentryDns:process.env.SENTRY_DNS||null};
"use strict";module.exports=[{title:"What is this?",content:"I don't know why, but I'm feeling sad"},{title:"Alone",content:"Do you ever feel so lonely that you want to end it all?"}];
"use strict";var express=require("express"),articles=require("../../db/articles"),router=express.Router();router.get("/",function(e,r){r.render("index",{title:"KOPLOK"})}),router.get("/api/articles",function(e,r){r.send(articles)}),module.exports=router;